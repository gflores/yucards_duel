<template name="matchmakingView">
    <div id="matchmaker-view" class="{{GetClassForGuest}}">
        <div id="top-area">
            <div class="profile-box">
                <div class="username profile-section">
                    <span class="label">Username</span>:
                    {{#unless currentUser.profile.guest}}
                        {{> loginButtons}}
                    {{else}}
                        <span class="value">{{currentUser.username}} </span>
                    {{/unless}}
                </div>
                <div class="login-buttons-section profile-section">
                    {{#unless currentUser.profile.guest}}
                        <i>Logged.</i>
                    {{else}}
                        {{> loginButtons}}
                    {{/unless}}
                </div>
                <div class="rank profile-section">
                    <span class="label">Rank</span>:
                    <span class="value">
                        {{#unless currentUser.profile.guest}}
                            {{currentUser.rank}}
                        {{else}}
                            N/A
                        {{/unless}}
                    </span>
                </div>
                <div class="glory profile-section">
                    <span class="label">Glory</span>:
                    <span class="value">
                        {{#unless currentUser.profile.guest}}
                            {{currentUser.score}}
                        {{else}}
                            N/A
                        {{/unless}}
                    </span>
                </div>
                <div class="wins profile-section">
                    <span class="label">Victories</span>:
                    <span class="value">
                        {{#unless currentUser.profile.guest}}
                            {{currentUser.winNumber}}
                        {{else}}
                            N/A
                        {{/unless}}
                    </span>
                </div>
                <div class="losses profile-section">
                    <span class="label">Defeats</span>:
                    <span class="value">
                        {{#unless currentUser.profile.guest}}
                            {{currentUser.loseNumber}}
                        {{else}}
                            N/A
                        {{/unless}}
                    </span>
                </div>
            </div>
            <div id="game-generator-area">
                <button class="generate-new-link">
                    Generate new duel link
                </button>
                <div class="battle-link">
                    <span>{{GetBaseDuelUrl}}/</span><input type="text" value="{{GetRoomIdToDisplay}}">
                </div>
                <button class="launch-battle">
                    Join Duel
                </button>
            </div>
        </div>
        <ul id="online-users-list">
            {{#each user in GetOnlineUsers}}
                <li>
                    {{user.username}}
                </li>
            {{/each}}
        </ul>
        <div id="chat-area">
            <div id="messages-list-area">
                {{#each message in GetMessagesToDisplay}}
                    {{> chatMessage message=message}}
                {{/each}}
            </div>
            <div id="message-input-box">
                <textarea></textarea>
                <button class="send-message"> Send </button>
            </div> 
        </div>
    </div>
</template>

<template name="chatMessage">
    <div class="message {{GetClassForGuest}}">
        <div class="date">
            [{{GetTimeToDisplay}}]
        </div>
        <div class="user">
            {{message.user.username}}:
        </div>
        <div class="text">
            {{message.text}}
        </div>
    </div>    
</template>